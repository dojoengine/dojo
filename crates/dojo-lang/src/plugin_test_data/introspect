//! > Test expansion of the derive(Introspect).

//! > test_runner_name
test_expand_plugin

//! > cairo_code
use core::serde::Serde;

#[derive(Copy, Drop, Serde, Introspect)]
struct Vec2 {
    x: u32,
    y: u32
}

#[derive(Serde, Copy, Drop, Introspect)]
enum PlainEnum {
    Left: (),
    Right: (),
}

#[derive(Serde, Copy, Drop, Introspect)]
enum EnumWithPrimitive {
    Left: u32,
    Right: u32,
}

#[derive(Serde, Copy, Drop, Introspect)]
enum EnumWithStruct {
    Left: Vec2,
    Right: Vec2,
}

#[derive(Serde, Copy, Drop, Introspect)]
enum EnumWithSimpleArray {
    Left: Array<u32>,
    Right: Array<u32>,
}

#[derive(Serde, Copy, Drop, Introspect)]
enum EnumWithByteArray {
    Left: ByteArray,
    Right: ByteArray,
}

#[derive(Serde, Copy, Drop, Introspect)]
enum EnumWithSimpleTuple {
    Left: (u8, u256),
    Right: (u8, u256),
}

#[derive(Serde, Copy, Drop, Introspect)]
enum EnumWithComplexTuple {
    Left: (u8, Vec2),
    Right: (u8, Vec2),
}

#[derive(Serde, Copy, Drop, Introspect)]
enum EnumTupleOnePrimitive {
    Left: (u16,),
    Right: (u16,),
}

#[derive(Serde, Copy, Drop, Introspect)]
enum EnumCustom {
    Left: Vec2,
    Right: Vec2,
}

#[derive(Serde, Copy, Drop, Introspect)]
enum EnumTupleMix{
    Left: (Vec2, u64, EnumCustom),
    Right: (Vec2, u64, EnumCustom),
}

#[derive(Serde, Copy, Drop, Introspect)]
enum EnumWithDifferentVariantData{
    One,
    Two: u32,
    Three: (Vec2, u64),
}

#[derive(Copy, Drop, Introspect)]
struct StructWithPrimitives {
    #[key]
    player: ContractAddress,
    before: u8,
    after: u16,
}

#[derive(Copy, Drop, Introspect)]
struct StructWithStruct {
    #[key]
    player: ContractAddress,
    before: u8,
    after: Vec2,
}

#[derive(Copy, Drop, Introspect)]
struct StructWithSimpleArray {
    #[key]
    player: ContractAddress,
    before: u8,
    after: Array<u32>,
}

#[derive(Copy, Drop, Introspect)]
struct StructWithByteArray {
    #[key]
    player: ContractAddress,
    before: u8,
    after: ByteArray,
}

#[derive(Copy, Drop, Introspect)]
struct StructWithComplexArray {
    #[key]
    player: ContractAddress,
    before: u8,
    after: Array<Vec2>,
}

#[derive(Copy, Drop, Introspect)]
struct StructWithSimpleTuple {
    #[key]
    player: ContractAddress,
    before: u8,
    after: (u8, u256),
}

#[derive(Copy, Drop, Introspect)]
struct StructWithComplexTuple {
    #[key]
    player: ContractAddress,
    before: u8,
    after: (u8, Vec2, EnumCustom),
}

#[derive(Copy, Drop, Introspect)]
struct StructWithNestedArrays {
    #[key]
    player: ContractAddress,
    before: u8,
    after: Array<Array<Array<Vec2>>>,
}

#[derive(Copy, Drop, Introspect)]
struct StructWithNestedTuples {
    #[key]
    player: ContractAddress,
    before: u8,
    after: ((u8, u32), (Vec2, EnumCustom)),
}

#[derive(Copy, Drop, Introspect)]
struct StructWithNestedTuplesAndByteArray {
    #[key]
    player: ContractAddress,
    before: u8,
    after: ((u8, u32), (Vec2, ByteArray)),
}

#[derive(Copy, Drop, Introspect)]
struct StructWithNestedEverything {
    #[key]
    player: ContractAddress,
    before: u8,
    after: ((u8, u32), (Vec2, EnumCustom), (Array<(u32, Vec2)>, EnumCustom), (u16,))
}

#[derive(Copy, Drop, Serde, Introspect)]
struct GenericStruct<T> {
    t: T,
}

#[derive(Copy, Drop, Serde, Introspect)]
struct StructWithBadOption {
    x: Option<(u8, u16)>
}

#[derive(Copy, Drop, Serde, Introspect)]
enum EnumWithBadOption {
    first: Option<(u8, u16)>,
}

//! > expanded_cairo_code
use core::serde::Serde;

#[derive(Copy, Drop, Serde, Introspect)]
struct Vec2 {
    x: u32,
    y: u32
}

#[derive(Serde, Copy, Drop, Introspect)]
enum PlainEnum {
    Left: (),
    Right: (),
}

#[derive(Serde, Copy, Drop, Introspect)]
enum EnumWithPrimitive {
    Left: u32,
    Right: u32,
}

#[derive(Serde, Copy, Drop, Introspect)]
enum EnumWithStruct {
    Left: Vec2,
    Right: Vec2,
}

#[derive(Serde, Copy, Drop, Introspect)]
enum EnumWithSimpleArray {
    Left: Array<u32>,
    Right: Array<u32>,
}

#[derive(Serde, Copy, Drop, Introspect)]
enum EnumWithByteArray {
    Left: ByteArray,
    Right: ByteArray,
}

#[derive(Serde, Copy, Drop, Introspect)]
enum EnumWithSimpleTuple {
    Left: (u8, u256),
    Right: (u8, u256),
}

#[derive(Serde, Copy, Drop, Introspect)]
enum EnumWithComplexTuple {
    Left: (u8, Vec2),
    Right: (u8, Vec2),
}

#[derive(Serde, Copy, Drop, Introspect)]
enum EnumTupleOnePrimitive {
    Left: (u16,),
    Right: (u16,),
}

#[derive(Serde, Copy, Drop, Introspect)]
enum EnumCustom {
    Left: Vec2,
    Right: Vec2,
}

#[derive(Serde, Copy, Drop, Introspect)]
enum EnumTupleMix{
    Left: (Vec2, u64, EnumCustom),
    Right: (Vec2, u64, EnumCustom),
}

#[derive(Serde, Copy, Drop, Introspect)]
enum EnumWithDifferentVariantData{
    One,
    Two: u32,
    Three: (Vec2, u64),
}

#[derive(Copy, Drop, Introspect)]
struct StructWithPrimitives {
    #[key]
    player: ContractAddress,
    before: u8,
    after: u16,
}

#[derive(Copy, Drop, Introspect)]
struct StructWithStruct {
    #[key]
    player: ContractAddress,
    before: u8,
    after: Vec2,
}

#[derive(Copy, Drop, Introspect)]
struct StructWithSimpleArray {
    #[key]
    player: ContractAddress,
    before: u8,
    after: Array<u32>,
}

#[derive(Copy, Drop, Introspect)]
struct StructWithByteArray {
    #[key]
    player: ContractAddress,
    before: u8,
    after: ByteArray,
}

#[derive(Copy, Drop, Introspect)]
struct StructWithComplexArray {
    #[key]
    player: ContractAddress,
    before: u8,
    after: Array<Vec2>,
}

#[derive(Copy, Drop, Introspect)]
struct StructWithSimpleTuple {
    #[key]
    player: ContractAddress,
    before: u8,
    after: (u8, u256),
}

#[derive(Copy, Drop, Introspect)]
struct StructWithComplexTuple {
    #[key]
    player: ContractAddress,
    before: u8,
    after: (u8, Vec2, EnumCustom),
}

#[derive(Copy, Drop, Introspect)]
struct StructWithNestedArrays {
    #[key]
    player: ContractAddress,
    before: u8,
    after: Array<Array<Array<Vec2>>>,
}

#[derive(Copy, Drop, Introspect)]
struct StructWithNestedTuples {
    #[key]
    player: ContractAddress,
    before: u8,
    after: ((u8, u32), (Vec2, EnumCustom)),
}

#[derive(Copy, Drop, Introspect)]
struct StructWithNestedTuplesAndByteArray {
    #[key]
    player: ContractAddress,
    before: u8,
    after: ((u8, u32), (Vec2, ByteArray)),
}

#[derive(Copy, Drop, Introspect)]
struct StructWithNestedEverything {
    #[key]
    player: ContractAddress,
    before: u8,
    after: ((u8, u32), (Vec2, EnumCustom), (Array<(u32, Vec2)>, EnumCustom), (u16,))
}

#[derive(Copy, Drop, Serde, Introspect)]
struct GenericStruct<T> {
    t: T,
}

#[derive(Copy, Drop, Serde, Introspect)]
struct StructWithBadOption {
    x: Option<(u8, u16)>
}

#[derive(Copy, Drop, Serde, Introspect)]
enum EnumWithBadOption {
    first: Option<(u8, u16)>,
}
impl Vec2Copy of core::traits::Copy::<Vec2>;
impl Vec2Drop of core::traits::Drop::<Vec2>;
impl Vec2Serde of core::serde::Serde::<Vec2> {
    fn serialize(self: @Vec2, ref output: core::array::Array<felt252>) {
        core::serde::Serde::serialize(self.x, ref output);
        core::serde::Serde::serialize(self.y, ref output)
    }
    fn deserialize(ref serialized: core::array::Span<felt252>) -> core::option::Option<Vec2> {
        core::option::Option::Some(Vec2 {
            x: core::serde::Serde::deserialize(ref serialized)?,
            y: core::serde::Serde::deserialize(ref serialized)?,
        })
    }
}

impl Vec2Introspect<> of dojo::database::introspect::Introspect<Vec2<>> {
    #[inline(always)]
    fn size() -> Option<usize> {
        Option::None
    }

    #[inline(always)]
    fn layout() -> dojo::database::introspect::Layout {
        dojo::database::introspect::Layout::Struct(
            array![
            dojo::database::introspect::FieldLayout {
            selector: 512066735765477566404754172672287371265995314501343422459174036873487219331,
            layout: dojo::database::introspect::Introspect::<u32>::layout()
        },
dojo::database::introspect::FieldLayout {
            selector: 1591024729085637502504777720563487898377940395575083379770417352976841400819,
            layout: dojo::database::introspect::Introspect::<u32
>::layout()
        }
            ].span()
        )
    }

    #[inline(always)]
    fn ty() -> dojo::database::introspect::Ty {
        // TODO: Not used anymore => to remove
        dojo::database::introspect::Ty::Primitive('u8')
    }
}
impl PlainEnumSerde of core::serde::Serde::<PlainEnum> {
    fn serialize(self: @PlainEnum, ref output: core::array::Array<felt252>) {
        match self {
            PlainEnum::Left(x) => { core::serde::Serde::serialize(@0, ref output); core::serde::Serde::serialize(x, ref output); },
            PlainEnum::Right(x) => { core::serde::Serde::serialize(@1, ref output); core::serde::Serde::serialize(x, ref output); },
        }
    }
    fn deserialize(ref serialized: core::array::Span<felt252>) -> core::option::Option<PlainEnum> {
        let idx: felt252 = core::serde::Serde::deserialize(ref serialized)?;
        core::option::Option::Some(
            match idx {
                0 => PlainEnum::Left(core::serde::Serde::deserialize(ref serialized)?),
                1 => PlainEnum::Right(core::serde::Serde::deserialize(ref serialized)?),
                _ => { return core::option::Option::None; }
            }
        )
    }
}
impl PlainEnumCopy of core::traits::Copy::<PlainEnum>;
impl PlainEnumDrop of core::traits::Drop::<PlainEnum>;

impl PlainEnumIntrospect<> of dojo::database::introspect::Introspect<PlainEnum<>> {
    #[inline(always)]
    fn size() -> Option<usize> {
        Option::None
    }

    #[inline(always)]
    fn layout() -> dojo::database::introspect::Layout {
        dojo::database::introspect::Layout::Enum(
            array![
            dojo::database::introspect::FieldLayout {
                    selector: 0,
                    layout: dojo::database::introspect::Layout::Tuple(
                        array![
                            // variant value
                            dojo::database::introspect::FieldLayout {
                                selector: '',
                                layout: dojo::database::introspect::Layout::Fixed(array![8].span())
                            },
                            dojo::database::introspect::FieldLayout {
            selector: '',
            layout: dojo::database::introspect::Layout::Tuple(
                array![
                    
                ].span()
            )
        }
                        ].span()
                    )
                },
dojo::database::introspect::FieldLayout {
                    selector: 1,
                    layout: dojo::database::introspect::Layout::Tuple(
                        array![
                            // variant value
                            dojo::database::introspect::FieldLayout {
                                selector: '',
                                layout: dojo::database::introspect::Layout::Fixed(array![8].span())
                            },
                            dojo::database::introspect::FieldLayout {
            selector: '',
            layout: dojo::database::introspect::Layout::Tuple(
                array![
                    
                ].span()
            )
        }
                        ].span()
                    )
                }
            ].span()
        )
    }

    #[inline(always)]
    fn ty() -> dojo::database::introspect::Ty {
        // TODO: Not used anymore => to remove
        dojo::database::introspect::Ty::Primitive('u8')
    }
}
impl EnumWithPrimitiveSerde of core::serde::Serde::<EnumWithPrimitive> {
    fn serialize(self: @EnumWithPrimitive, ref output: core::array::Array<felt252>) {
        match self {
            EnumWithPrimitive::Left(x) => { core::serde::Serde::serialize(@0, ref output); core::serde::Serde::serialize(x, ref output); },
            EnumWithPrimitive::Right(x) => { core::serde::Serde::serialize(@1, ref output); core::serde::Serde::serialize(x, ref output); },
        }
    }
    fn deserialize(ref serialized: core::array::Span<felt252>) -> core::option::Option<EnumWithPrimitive> {
        let idx: felt252 = core::serde::Serde::deserialize(ref serialized)?;
        core::option::Option::Some(
            match idx {
                0 => EnumWithPrimitive::Left(core::serde::Serde::deserialize(ref serialized)?),
                1 => EnumWithPrimitive::Right(core::serde::Serde::deserialize(ref serialized)?),
                _ => { return core::option::Option::None; }
            }
        )
    }
}
impl EnumWithPrimitiveCopy of core::traits::Copy::<EnumWithPrimitive>;
impl EnumWithPrimitiveDrop of core::traits::Drop::<EnumWithPrimitive>;

impl EnumWithPrimitiveIntrospect<> of dojo::database::introspect::Introspect<EnumWithPrimitive<>> {
    #[inline(always)]
    fn size() -> Option<usize> {
        Option::None
    }

    #[inline(always)]
    fn layout() -> dojo::database::introspect::Layout {
        dojo::database::introspect::Layout::Enum(
            array![
            dojo::database::introspect::FieldLayout {
                    selector: 0,
                    layout: dojo::database::introspect::Layout::Tuple(
                        array![
                            // variant value
                            dojo::database::introspect::FieldLayout {
                                selector: '',
                                layout: dojo::database::introspect::Layout::Fixed(array![8].span())
                            },
                            dojo::database::introspect::FieldLayout {
            selector: '',
            layout: dojo::database::introspect::Introspect::<u32>::layout()
        }
                        ].span()
                    )
                },
dojo::database::introspect::FieldLayout {
                    selector: 1,
                    layout: dojo::database::introspect::Layout::Tuple(
                        array![
                            // variant value
                            dojo::database::introspect::FieldLayout {
                                selector: '',
                                layout: dojo::database::introspect::Layout::Fixed(array![8].span())
                            },
                            dojo::database::introspect::FieldLayout {
            selector: '',
            layout: dojo::database::introspect::Introspect::<u32>::layout()
        }
                        ].span()
                    )
                }
            ].span()
        )
    }

    #[inline(always)]
    fn ty() -> dojo::database::introspect::Ty {
        // TODO: Not used anymore => to remove
        dojo::database::introspect::Ty::Primitive('u8')
    }
}
impl EnumWithStructSerde of core::serde::Serde::<EnumWithStruct> {
    fn serialize(self: @EnumWithStruct, ref output: core::array::Array<felt252>) {
        match self {
            EnumWithStruct::Left(x) => { core::serde::Serde::serialize(@0, ref output); core::serde::Serde::serialize(x, ref output); },
            EnumWithStruct::Right(x) => { core::serde::Serde::serialize(@1, ref output); core::serde::Serde::serialize(x, ref output); },
        }
    }
    fn deserialize(ref serialized: core::array::Span<felt252>) -> core::option::Option<EnumWithStruct> {
        let idx: felt252 = core::serde::Serde::deserialize(ref serialized)?;
        core::option::Option::Some(
            match idx {
                0 => EnumWithStruct::Left(core::serde::Serde::deserialize(ref serialized)?),
                1 => EnumWithStruct::Right(core::serde::Serde::deserialize(ref serialized)?),
                _ => { return core::option::Option::None; }
            }
        )
    }
}
impl EnumWithStructCopy of core::traits::Copy::<EnumWithStruct>;
impl EnumWithStructDrop of core::traits::Drop::<EnumWithStruct>;

impl EnumWithStructIntrospect<> of dojo::database::introspect::Introspect<EnumWithStruct<>> {
    #[inline(always)]
    fn size() -> Option<usize> {
        Option::None
    }

    #[inline(always)]
    fn layout() -> dojo::database::introspect::Layout {
        dojo::database::introspect::Layout::Enum(
            array![
            dojo::database::introspect::FieldLayout {
                    selector: 0,
                    layout: dojo::database::introspect::Layout::Tuple(
                        array![
                            // variant value
                            dojo::database::introspect::FieldLayout {
                                selector: '',
                                layout: dojo::database::introspect::Layout::Fixed(array![8].span())
                            },
                            dojo::database::introspect::FieldLayout {
            selector: '',
            layout: dojo::database::introspect::Introspect::<Vec2>::layout()
        }
                        ].span()
                    )
                },
dojo::database::introspect::FieldLayout {
                    selector: 1,
                    layout: dojo::database::introspect::Layout::Tuple(
                        array![
                            // variant value
                            dojo::database::introspect::FieldLayout {
                                selector: '',
                                layout: dojo::database::introspect::Layout::Fixed(array![8].span())
                            },
                            dojo::database::introspect::FieldLayout {
            selector: '',
            layout: dojo::database::introspect::Introspect::<Vec2>::layout()
        }
                        ].span()
                    )
                }
            ].span()
        )
    }

    #[inline(always)]
    fn ty() -> dojo::database::introspect::Ty {
        // TODO: Not used anymore => to remove
        dojo::database::introspect::Ty::Primitive('u8')
    }
}
impl EnumWithSimpleArraySerde of core::serde::Serde::<EnumWithSimpleArray> {
    fn serialize(self: @EnumWithSimpleArray, ref output: core::array::Array<felt252>) {
        match self {
            EnumWithSimpleArray::Left(x) => { core::serde::Serde::serialize(@0, ref output); core::serde::Serde::serialize(x, ref output); },
            EnumWithSimpleArray::Right(x) => { core::serde::Serde::serialize(@1, ref output); core::serde::Serde::serialize(x, ref output); },
        }
    }
    fn deserialize(ref serialized: core::array::Span<felt252>) -> core::option::Option<EnumWithSimpleArray> {
        let idx: felt252 = core::serde::Serde::deserialize(ref serialized)?;
        core::option::Option::Some(
            match idx {
                0 => EnumWithSimpleArray::Left(core::serde::Serde::deserialize(ref serialized)?),
                1 => EnumWithSimpleArray::Right(core::serde::Serde::deserialize(ref serialized)?),
                _ => { return core::option::Option::None; }
            }
        )
    }
}
impl EnumWithSimpleArrayCopy of core::traits::Copy::<EnumWithSimpleArray>;
impl EnumWithSimpleArrayDrop of core::traits::Drop::<EnumWithSimpleArray>;

impl EnumWithSimpleArrayIntrospect<> of dojo::database::introspect::Introspect<EnumWithSimpleArray<>> {
    #[inline(always)]
    fn size() -> Option<usize> {
        Option::None
    }

    #[inline(always)]
    fn layout() -> dojo::database::introspect::Layout {
        dojo::database::introspect::Layout::Enum(
            array![
            dojo::database::introspect::FieldLayout {
                    selector: 0,
                    layout: dojo::database::introspect::Layout::Tuple(
                        array![
                            // variant value
                            dojo::database::introspect::FieldLayout {
                                selector: '',
                                layout: dojo::database::introspect::Layout::Fixed(array![8].span())
                            },
                            dojo::database::introspect::FieldLayout {
            selector: '',
            layout: dojo::database::introspect::Introspect::<Array<u32>>::layout()
        }
                        ].span()
                    )
                },
dojo::database::introspect::FieldLayout {
                    selector: 1,
                    layout: dojo::database::introspect::Layout::Tuple(
                        array![
                            // variant value
                            dojo::database::introspect::FieldLayout {
                                selector: '',
                                layout: dojo::database::introspect::Layout::Fixed(array![8].span())
                            },
                            dojo::database::introspect::FieldLayout {
            selector: '',
            layout: dojo::database::introspect::Introspect::<Array<u32>>::layout()
        }
                        ].span()
                    )
                }
            ].span()
        )
    }

    #[inline(always)]
    fn ty() -> dojo::database::introspect::Ty {
        // TODO: Not used anymore => to remove
        dojo::database::introspect::Ty::Primitive('u8')
    }
}
impl EnumWithByteArraySerde of core::serde::Serde::<EnumWithByteArray> {
    fn serialize(self: @EnumWithByteArray, ref output: core::array::Array<felt252>) {
        match self {
            EnumWithByteArray::Left(x) => { core::serde::Serde::serialize(@0, ref output); core::serde::Serde::serialize(x, ref output); },
            EnumWithByteArray::Right(x) => { core::serde::Serde::serialize(@1, ref output); core::serde::Serde::serialize(x, ref output); },
        }
    }
    fn deserialize(ref serialized: core::array::Span<felt252>) -> core::option::Option<EnumWithByteArray> {
        let idx: felt252 = core::serde::Serde::deserialize(ref serialized)?;
        core::option::Option::Some(
            match idx {
                0 => EnumWithByteArray::Left(core::serde::Serde::deserialize(ref serialized)?),
                1 => EnumWithByteArray::Right(core::serde::Serde::deserialize(ref serialized)?),
                _ => { return core::option::Option::None; }
            }
        )
    }
}
impl EnumWithByteArrayCopy of core::traits::Copy::<EnumWithByteArray>;
impl EnumWithByteArrayDrop of core::traits::Drop::<EnumWithByteArray>;

impl EnumWithByteArrayIntrospect<> of dojo::database::introspect::Introspect<EnumWithByteArray<>> {
    #[inline(always)]
    fn size() -> Option<usize> {
        Option::None
    }

    #[inline(always)]
    fn layout() -> dojo::database::introspect::Layout {
        dojo::database::introspect::Layout::Enum(
            array![
            dojo::database::introspect::FieldLayout {
                    selector: 0,
                    layout: dojo::database::introspect::Layout::Tuple(
                        array![
                            // variant value
                            dojo::database::introspect::FieldLayout {
                                selector: '',
                                layout: dojo::database::introspect::Layout::Fixed(array![8].span())
                            },
                            dojo::database::introspect::FieldLayout {
            selector: '',
            layout: dojo::database::introspect::Introspect::<ByteArray>::layout()
        }
                        ].span()
                    )
                },
dojo::database::introspect::FieldLayout {
                    selector: 1,
                    layout: dojo::database::introspect::Layout::Tuple(
                        array![
                            // variant value
                            dojo::database::introspect::FieldLayout {
                                selector: '',
                                layout: dojo::database::introspect::Layout::Fixed(array![8].span())
                            },
                            dojo::database::introspect::FieldLayout {
            selector: '',
            layout: dojo::database::introspect::Introspect::<ByteArray>::layout()
        }
                        ].span()
                    )
                }
            ].span()
        )
    }

    #[inline(always)]
    fn ty() -> dojo::database::introspect::Ty {
        // TODO: Not used anymore => to remove
        dojo::database::introspect::Ty::Primitive('u8')
    }
}
impl EnumWithSimpleTupleSerde of core::serde::Serde::<EnumWithSimpleTuple> {
    fn serialize(self: @EnumWithSimpleTuple, ref output: core::array::Array<felt252>) {
        match self {
            EnumWithSimpleTuple::Left(x) => { core::serde::Serde::serialize(@0, ref output); core::serde::Serde::serialize(x, ref output); },
            EnumWithSimpleTuple::Right(x) => { core::serde::Serde::serialize(@1, ref output); core::serde::Serde::serialize(x, ref output); },
        }
    }
    fn deserialize(ref serialized: core::array::Span<felt252>) -> core::option::Option<EnumWithSimpleTuple> {
        let idx: felt252 = core::serde::Serde::deserialize(ref serialized)?;
        core::option::Option::Some(
            match idx {
                0 => EnumWithSimpleTuple::Left(core::serde::Serde::deserialize(ref serialized)?),
                1 => EnumWithSimpleTuple::Right(core::serde::Serde::deserialize(ref serialized)?),
                _ => { return core::option::Option::None; }
            }
        )
    }
}
impl EnumWithSimpleTupleCopy of core::traits::Copy::<EnumWithSimpleTuple>;
impl EnumWithSimpleTupleDrop of core::traits::Drop::<EnumWithSimpleTuple>;

impl EnumWithSimpleTupleIntrospect<> of dojo::database::introspect::Introspect<EnumWithSimpleTuple<>> {
    #[inline(always)]
    fn size() -> Option<usize> {
        Option::None
    }

    #[inline(always)]
    fn layout() -> dojo::database::introspect::Layout {
        dojo::database::introspect::Layout::Enum(
            array![
            dojo::database::introspect::FieldLayout {
                    selector: 0,
                    layout: dojo::database::introspect::Layout::Tuple(
                        array![
                            // variant value
                            dojo::database::introspect::FieldLayout {
                                selector: '',
                                layout: dojo::database::introspect::Layout::Fixed(array![8].span())
                            },
                            dojo::database::introspect::FieldLayout {
            selector: '',
            layout: dojo::database::introspect::Layout::Tuple(
                array![
                    dojo::database::introspect::FieldLayout {
                        selector: '',
                        layout: dojo::database::introspect::Introspect::<u8>::layout()
                    },
dojo::database::introspect::FieldLayout {
                        selector: '',
                        layout: dojo::database::introspect::Introspect::<u256>::layout()
                    }
                ].span()
            )
        }
                        ].span()
                    )
                },
dojo::database::introspect::FieldLayout {
                    selector: 1,
                    layout: dojo::database::introspect::Layout::Tuple(
                        array![
                            // variant value
                            dojo::database::introspect::FieldLayout {
                                selector: '',
                                layout: dojo::database::introspect::Layout::Fixed(array![8].span())
                            },
                            dojo::database::introspect::FieldLayout {
            selector: '',
            layout: dojo::database::introspect::Layout::Tuple(
                array![
                    dojo::database::introspect::FieldLayout {
                        selector: '',
                        layout: dojo::database::introspect::Introspect::<u8>::layout()
                    },
dojo::database::introspect::FieldLayout {
                        selector: '',
                        layout: dojo::database::introspect::Introspect::<u256>::layout()
                    }
                ].span()
            )
        }
                        ].span()
                    )
                }
            ].span()
        )
    }

    #[inline(always)]
    fn ty() -> dojo::database::introspect::Ty {
        // TODO: Not used anymore => to remove
        dojo::database::introspect::Ty::Primitive('u8')
    }
}
impl EnumWithComplexTupleSerde of core::serde::Serde::<EnumWithComplexTuple> {
    fn serialize(self: @EnumWithComplexTuple, ref output: core::array::Array<felt252>) {
        match self {
            EnumWithComplexTuple::Left(x) => { core::serde::Serde::serialize(@0, ref output); core::serde::Serde::serialize(x, ref output); },
            EnumWithComplexTuple::Right(x) => { core::serde::Serde::serialize(@1, ref output); core::serde::Serde::serialize(x, ref output); },
        }
    }
    fn deserialize(ref serialized: core::array::Span<felt252>) -> core::option::Option<EnumWithComplexTuple> {
        let idx: felt252 = core::serde::Serde::deserialize(ref serialized)?;
        core::option::Option::Some(
            match idx {
                0 => EnumWithComplexTuple::Left(core::serde::Serde::deserialize(ref serialized)?),
                1 => EnumWithComplexTuple::Right(core::serde::Serde::deserialize(ref serialized)?),
                _ => { return core::option::Option::None; }
            }
        )
    }
}
impl EnumWithComplexTupleCopy of core::traits::Copy::<EnumWithComplexTuple>;
impl EnumWithComplexTupleDrop of core::traits::Drop::<EnumWithComplexTuple>;

impl EnumWithComplexTupleIntrospect<> of dojo::database::introspect::Introspect<EnumWithComplexTuple<>> {
    #[inline(always)]
    fn size() -> Option<usize> {
        Option::None
    }

    #[inline(always)]
    fn layout() -> dojo::database::introspect::Layout {
        dojo::database::introspect::Layout::Enum(
            array![
            dojo::database::introspect::FieldLayout {
                    selector: 0,
                    layout: dojo::database::introspect::Layout::Tuple(
                        array![
                            // variant value
                            dojo::database::introspect::FieldLayout {
                                selector: '',
                                layout: dojo::database::introspect::Layout::Fixed(array![8].span())
                            },
                            dojo::database::introspect::FieldLayout {
            selector: '',
            layout: dojo::database::introspect::Layout::Tuple(
                array![
                    dojo::database::introspect::FieldLayout {
                        selector: '',
                        layout: dojo::database::introspect::Introspect::<u8>::layout()
                    },
dojo::database::introspect::FieldLayout {
                        selector: '',
                        layout: dojo::database::introspect::Introspect::<Vec2>::layout()
                    }
                ].span()
            )
        }
                        ].span()
                    )
                },
dojo::database::introspect::FieldLayout {
                    selector: 1,
                    layout: dojo::database::introspect::Layout::Tuple(
                        array![
                            // variant value
                            dojo::database::introspect::FieldLayout {
                                selector: '',
                                layout: dojo::database::introspect::Layout::Fixed(array![8].span())
                            },
                            dojo::database::introspect::FieldLayout {
            selector: '',
            layout: dojo::database::introspect::Layout::Tuple(
                array![
                    dojo::database::introspect::FieldLayout {
                        selector: '',
                        layout: dojo::database::introspect::Introspect::<u8>::layout()
                    },
dojo::database::introspect::FieldLayout {
                        selector: '',
                        layout: dojo::database::introspect::Introspect::<Vec2>::layout()
                    }
                ].span()
            )
        }
                        ].span()
                    )
                }
            ].span()
        )
    }

    #[inline(always)]
    fn ty() -> dojo::database::introspect::Ty {
        // TODO: Not used anymore => to remove
        dojo::database::introspect::Ty::Primitive('u8')
    }
}
impl EnumTupleOnePrimitiveSerde of core::serde::Serde::<EnumTupleOnePrimitive> {
    fn serialize(self: @EnumTupleOnePrimitive, ref output: core::array::Array<felt252>) {
        match self {
            EnumTupleOnePrimitive::Left(x) => { core::serde::Serde::serialize(@0, ref output); core::serde::Serde::serialize(x, ref output); },
            EnumTupleOnePrimitive::Right(x) => { core::serde::Serde::serialize(@1, ref output); core::serde::Serde::serialize(x, ref output); },
        }
    }
    fn deserialize(ref serialized: core::array::Span<felt252>) -> core::option::Option<EnumTupleOnePrimitive> {
        let idx: felt252 = core::serde::Serde::deserialize(ref serialized)?;
        core::option::Option::Some(
            match idx {
                0 => EnumTupleOnePrimitive::Left(core::serde::Serde::deserialize(ref serialized)?),
                1 => EnumTupleOnePrimitive::Right(core::serde::Serde::deserialize(ref serialized)?),
                _ => { return core::option::Option::None; }
            }
        )
    }
}
impl EnumTupleOnePrimitiveCopy of core::traits::Copy::<EnumTupleOnePrimitive>;
impl EnumTupleOnePrimitiveDrop of core::traits::Drop::<EnumTupleOnePrimitive>;

impl EnumTupleOnePrimitiveIntrospect<> of dojo::database::introspect::Introspect<EnumTupleOnePrimitive<>> {
    #[inline(always)]
    fn size() -> Option<usize> {
        Option::None
    }

    #[inline(always)]
    fn layout() -> dojo::database::introspect::Layout {
        dojo::database::introspect::Layout::Enum(
            array![
            dojo::database::introspect::FieldLayout {
                    selector: 0,
                    layout: dojo::database::introspect::Layout::Tuple(
                        array![
                            // variant value
                            dojo::database::introspect::FieldLayout {
                                selector: '',
                                layout: dojo::database::introspect::Layout::Fixed(array![8].span())
                            },
                            dojo::database::introspect::FieldLayout {
            selector: '',
            layout: dojo::database::introspect::Layout::Tuple(
                array![
                    dojo::database::introspect::FieldLayout {
                        selector: '',
                        layout: dojo::database::introspect::Introspect::<u16>::layout()
                    }
                ].span()
            )
        }
                        ].span()
                    )
                },
dojo::database::introspect::FieldLayout {
                    selector: 1,
                    layout: dojo::database::introspect::Layout::Tuple(
                        array![
                            // variant value
                            dojo::database::introspect::FieldLayout {
                                selector: '',
                                layout: dojo::database::introspect::Layout::Fixed(array![8].span())
                            },
                            dojo::database::introspect::FieldLayout {
            selector: '',
            layout: dojo::database::introspect::Layout::Tuple(
                array![
                    dojo::database::introspect::FieldLayout {
                        selector: '',
                        layout: dojo::database::introspect::Introspect::<u16>::layout()
                    }
                ].span()
            )
        }
                        ].span()
                    )
                }
            ].span()
        )
    }

    #[inline(always)]
    fn ty() -> dojo::database::introspect::Ty {
        // TODO: Not used anymore => to remove
        dojo::database::introspect::Ty::Primitive('u8')
    }
}
impl EnumCustomSerde of core::serde::Serde::<EnumCustom> {
    fn serialize(self: @EnumCustom, ref output: core::array::Array<felt252>) {
        match self {
            EnumCustom::Left(x) => { core::serde::Serde::serialize(@0, ref output); core::serde::Serde::serialize(x, ref output); },
            EnumCustom::Right(x) => { core::serde::Serde::serialize(@1, ref output); core::serde::Serde::serialize(x, ref output); },
        }
    }
    fn deserialize(ref serialized: core::array::Span<felt252>) -> core::option::Option<EnumCustom> {
        let idx: felt252 = core::serde::Serde::deserialize(ref serialized)?;
        core::option::Option::Some(
            match idx {
                0 => EnumCustom::Left(core::serde::Serde::deserialize(ref serialized)?),
                1 => EnumCustom::Right(core::serde::Serde::deserialize(ref serialized)?),
                _ => { return core::option::Option::None; }
            }
        )
    }
}
impl EnumCustomCopy of core::traits::Copy::<EnumCustom>;
impl EnumCustomDrop of core::traits::Drop::<EnumCustom>;

impl EnumCustomIntrospect<> of dojo::database::introspect::Introspect<EnumCustom<>> {
    #[inline(always)]
    fn size() -> Option<usize> {
        Option::None
    }

    #[inline(always)]
    fn layout() -> dojo::database::introspect::Layout {
        dojo::database::introspect::Layout::Enum(
            array![
            dojo::database::introspect::FieldLayout {
                    selector: 0,
                    layout: dojo::database::introspect::Layout::Tuple(
                        array![
                            // variant value
                            dojo::database::introspect::FieldLayout {
                                selector: '',
                                layout: dojo::database::introspect::Layout::Fixed(array![8].span())
                            },
                            dojo::database::introspect::FieldLayout {
            selector: '',
            layout: dojo::database::introspect::Introspect::<Vec2>::layout()
        }
                        ].span()
                    )
                },
dojo::database::introspect::FieldLayout {
                    selector: 1,
                    layout: dojo::database::introspect::Layout::Tuple(
                        array![
                            // variant value
                            dojo::database::introspect::FieldLayout {
                                selector: '',
                                layout: dojo::database::introspect::Layout::Fixed(array![8].span())
                            },
                            dojo::database::introspect::FieldLayout {
            selector: '',
            layout: dojo::database::introspect::Introspect::<Vec2>::layout()
        }
                        ].span()
                    )
                }
            ].span()
        )
    }

    #[inline(always)]
    fn ty() -> dojo::database::introspect::Ty {
        // TODO: Not used anymore => to remove
        dojo::database::introspect::Ty::Primitive('u8')
    }
}
impl EnumTupleMixSerde of core::serde::Serde::<EnumTupleMix> {
    fn serialize(self: @EnumTupleMix, ref output: core::array::Array<felt252>) {
        match self {
            EnumTupleMix::Left(x) => { core::serde::Serde::serialize(@0, ref output); core::serde::Serde::serialize(x, ref output); },
            EnumTupleMix::Right(x) => { core::serde::Serde::serialize(@1, ref output); core::serde::Serde::serialize(x, ref output); },
        }
    }
    fn deserialize(ref serialized: core::array::Span<felt252>) -> core::option::Option<EnumTupleMix> {
        let idx: felt252 = core::serde::Serde::deserialize(ref serialized)?;
        core::option::Option::Some(
            match idx {
                0 => EnumTupleMix::Left(core::serde::Serde::deserialize(ref serialized)?),
                1 => EnumTupleMix::Right(core::serde::Serde::deserialize(ref serialized)?),
                _ => { return core::option::Option::None; }
            }
        )
    }
}
impl EnumTupleMixCopy of core::traits::Copy::<EnumTupleMix>;
impl EnumTupleMixDrop of core::traits::Drop::<EnumTupleMix>;

impl EnumTupleMixIntrospect<> of dojo::database::introspect::Introspect<EnumTupleMix<>> {
    #[inline(always)]
    fn size() -> Option<usize> {
        Option::None
    }

    #[inline(always)]
    fn layout() -> dojo::database::introspect::Layout {
        dojo::database::introspect::Layout::Enum(
            array![
            dojo::database::introspect::FieldLayout {
                    selector: 0,
                    layout: dojo::database::introspect::Layout::Tuple(
                        array![
                            // variant value
                            dojo::database::introspect::FieldLayout {
                                selector: '',
                                layout: dojo::database::introspect::Layout::Fixed(array![8].span())
                            },
                            dojo::database::introspect::FieldLayout {
            selector: '',
            layout: dojo::database::introspect::Layout::Tuple(
                array![
                    dojo::database::introspect::FieldLayout {
                        selector: '',
                        layout: dojo::database::introspect::Introspect::<Vec2>::layout()
                    },
dojo::database::introspect::FieldLayout {
                        selector: '',
                        layout: dojo::database::introspect::Introspect::<u64>::layout()
                    },
dojo::database::introspect::FieldLayout {
                        selector: '',
                        layout: dojo::database::introspect::Introspect::<EnumCustom>::layout()
                    }
                ].span()
            )
        }
                        ].span()
                    )
                },
dojo::database::introspect::FieldLayout {
                    selector: 1,
                    layout: dojo::database::introspect::Layout::Tuple(
                        array![
                            // variant value
                            dojo::database::introspect::FieldLayout {
                                selector: '',
                                layout: dojo::database::introspect::Layout::Fixed(array![8].span())
                            },
                            dojo::database::introspect::FieldLayout {
            selector: '',
            layout: dojo::database::introspect::Layout::Tuple(
                array![
                    dojo::database::introspect::FieldLayout {
                        selector: '',
                        layout: dojo::database::introspect::Introspect::<Vec2>::layout()
                    },
dojo::database::introspect::FieldLayout {
                        selector: '',
                        layout: dojo::database::introspect::Introspect::<u64>::layout()
                    },
dojo::database::introspect::FieldLayout {
                        selector: '',
                        layout: dojo::database::introspect::Introspect::<EnumCustom>::layout()
                    }
                ].span()
            )
        }
                        ].span()
                    )
                }
            ].span()
        )
    }

    #[inline(always)]
    fn ty() -> dojo::database::introspect::Ty {
        // TODO: Not used anymore => to remove
        dojo::database::introspect::Ty::Primitive('u8')
    }
}
impl EnumWithDifferentVariantDataSerde of core::serde::Serde::<EnumWithDifferentVariantData> {
    fn serialize(self: @EnumWithDifferentVariantData, ref output: core::array::Array<felt252>) {
        match self {
            EnumWithDifferentVariantData::One(x) => { core::serde::Serde::serialize(@0, ref output); core::serde::Serde::serialize(x, ref output); },
            EnumWithDifferentVariantData::Two(x) => { core::serde::Serde::serialize(@1, ref output); core::serde::Serde::serialize(x, ref output); },
            EnumWithDifferentVariantData::Three(x) => { core::serde::Serde::serialize(@2, ref output); core::serde::Serde::serialize(x, ref output); },
        }
    }
    fn deserialize(ref serialized: core::array::Span<felt252>) -> core::option::Option<EnumWithDifferentVariantData> {
        let idx: felt252 = core::serde::Serde::deserialize(ref serialized)?;
        core::option::Option::Some(
            match idx {
                0 => EnumWithDifferentVariantData::One(core::serde::Serde::deserialize(ref serialized)?),
                1 => EnumWithDifferentVariantData::Two(core::serde::Serde::deserialize(ref serialized)?),
                2 => EnumWithDifferentVariantData::Three(core::serde::Serde::deserialize(ref serialized)?),
                _ => { return core::option::Option::None; }
            }
        )
    }
}
impl EnumWithDifferentVariantDataCopy of core::traits::Copy::<EnumWithDifferentVariantData>;
impl EnumWithDifferentVariantDataDrop of core::traits::Drop::<EnumWithDifferentVariantData>;

impl EnumWithDifferentVariantDataIntrospect<> of dojo::database::introspect::Introspect<EnumWithDifferentVariantData<>> {
    #[inline(always)]
    fn size() -> Option<usize> {
        Option::None
    }

    #[inline(always)]
    fn layout() -> dojo::database::introspect::Layout {
        dojo::database::introspect::Layout::Enum(
            array![
            dojo::database::introspect::FieldLayout {
                    selector: 0,
                    layout: dojo::database::introspect::Layout::Tuple(
                        array![
                            // variant value
                            dojo::database::introspect::FieldLayout {
                                selector: '',
                                layout: dojo::database::introspect::Layout::Fixed(array![8].span())
                            },
                            
                        ].span()
                    )
                },
dojo::database::introspect::FieldLayout {
                    selector: 1,
                    layout: dojo::database::introspect::Layout::Tuple(
                        array![
                            // variant value
                            dojo::database::introspect::FieldLayout {
                                selector: '',
                                layout: dojo::database::introspect::Layout::Fixed(array![8].span())
                            },
                            dojo::database::introspect::FieldLayout {
            selector: '',
            layout: dojo::database::introspect::Introspect::<u32>::layout()
        }
                        ].span()
                    )
                },
dojo::database::introspect::FieldLayout {
                    selector: 2,
                    layout: dojo::database::introspect::Layout::Tuple(
                        array![
                            // variant value
                            dojo::database::introspect::FieldLayout {
                                selector: '',
                                layout: dojo::database::introspect::Layout::Fixed(array![8].span())
                            },
                            dojo::database::introspect::FieldLayout {
            selector: '',
            layout: dojo::database::introspect::Layout::Tuple(
                array![
                    dojo::database::introspect::FieldLayout {
                        selector: '',
                        layout: dojo::database::introspect::Introspect::<Vec2>::layout()
                    },
dojo::database::introspect::FieldLayout {
                        selector: '',
                        layout: dojo::database::introspect::Introspect::<u64>::layout()
                    }
                ].span()
            )
        }
                        ].span()
                    )
                }
            ].span()
        )
    }

    #[inline(always)]
    fn ty() -> dojo::database::introspect::Ty {
        // TODO: Not used anymore => to remove
        dojo::database::introspect::Ty::Primitive('u8')
    }
}
impl StructWithPrimitivesCopy of core::traits::Copy::<StructWithPrimitives>;
impl StructWithPrimitivesDrop of core::traits::Drop::<StructWithPrimitives>;

impl StructWithPrimitivesIntrospect<> of dojo::database::introspect::Introspect<StructWithPrimitives<>> {
    #[inline(always)]
    fn size() -> Option<usize> {
        Option::None
    }

    #[inline(always)]
    fn layout() -> dojo::database::introspect::Layout {
        dojo::database::introspect::Layout::Struct(
            array![
            dojo::database::introspect::FieldLayout {
            selector: 387461982739864353524563589639770327077359184971688375275386807599796929637,
            layout: dojo::database::introspect::Introspect::<u8>::layout()
        },
dojo::database::introspect::FieldLayout {
            selector: 564613130574576288414461160574656432422962213642984413874723251824844509768,
            layout: dojo::database::introspect::Introspect::<u16>::layout()
        }
            ].span()
        )
    }

    #[inline(always)]
    fn ty() -> dojo::database::introspect::Ty {
        // TODO: Not used anymore => to remove
        dojo::database::introspect::Ty::Primitive('u8')
    }
}
impl StructWithStructCopy of core::traits::Copy::<StructWithStruct>;
impl StructWithStructDrop of core::traits::Drop::<StructWithStruct>;

impl StructWithStructIntrospect<> of dojo::database::introspect::Introspect<StructWithStruct<>> {
    #[inline(always)]
    fn size() -> Option<usize> {
        Option::None
    }

    #[inline(always)]
    fn layout() -> dojo::database::introspect::Layout {
        dojo::database::introspect::Layout::Struct(
            array![
            dojo::database::introspect::FieldLayout {
            selector: 387461982739864353524563589639770327077359184971688375275386807599796929637,
            layout: dojo::database::introspect::Introspect::<u8>::layout()
        },
dojo::database::introspect::FieldLayout {
            selector: 564613130574576288414461160574656432422962213642984413874723251824844509768,
            layout: dojo::database::introspect::Introspect::<Vec2>::layout()
        }
            ].span()
        )
    }

    #[inline(always)]
    fn ty() -> dojo::database::introspect::Ty {
        // TODO: Not used anymore => to remove
        dojo::database::introspect::Ty::Primitive('u8')
    }
}
impl StructWithSimpleArrayCopy of core::traits::Copy::<StructWithSimpleArray>;
impl StructWithSimpleArrayDrop of core::traits::Drop::<StructWithSimpleArray>;

impl StructWithSimpleArrayIntrospect<> of dojo::database::introspect::Introspect<StructWithSimpleArray<>> {
    #[inline(always)]
    fn size() -> Option<usize> {
        Option::None
    }

    #[inline(always)]
    fn layout() -> dojo::database::introspect::Layout {
        dojo::database::introspect::Layout::Struct(
            array![
            dojo::database::introspect::FieldLayout {
            selector: 387461982739864353524563589639770327077359184971688375275386807599796929637,
            layout: dojo::database::introspect::Introspect::<u8>::layout()
        },
dojo::database::introspect::FieldLayout {
            selector: 564613130574576288414461160574656432422962213642984413874723251824844509768,
            layout: dojo::database::introspect::Introspect::<Array<u32>>::layout()
        }
            ].span()
        )
    }

    #[inline(always)]
    fn ty() -> dojo::database::introspect::Ty {
        // TODO: Not used anymore => to remove
        dojo::database::introspect::Ty::Primitive('u8')
    }
}
impl StructWithByteArrayCopy of core::traits::Copy::<StructWithByteArray>;
impl StructWithByteArrayDrop of core::traits::Drop::<StructWithByteArray>;

impl StructWithByteArrayIntrospect<> of dojo::database::introspect::Introspect<StructWithByteArray<>> {
    #[inline(always)]
    fn size() -> Option<usize> {
        Option::None
    }

    #[inline(always)]
    fn layout() -> dojo::database::introspect::Layout {
        dojo::database::introspect::Layout::Struct(
            array![
            dojo::database::introspect::FieldLayout {
            selector: 387461982739864353524563589639770327077359184971688375275386807599796929637,
            layout: dojo::database::introspect::Introspect::<u8>::layout()
        },
dojo::database::introspect::FieldLayout {
            selector: 564613130574576288414461160574656432422962213642984413874723251824844509768,
            layout: dojo::database::introspect::Introspect::<ByteArray>::layout()
        }
            ].span()
        )
    }

    #[inline(always)]
    fn ty() -> dojo::database::introspect::Ty {
        // TODO: Not used anymore => to remove
        dojo::database::introspect::Ty::Primitive('u8')
    }
}
impl StructWithComplexArrayCopy of core::traits::Copy::<StructWithComplexArray>;
impl StructWithComplexArrayDrop of core::traits::Drop::<StructWithComplexArray>;

impl StructWithComplexArrayIntrospect<> of dojo::database::introspect::Introspect<StructWithComplexArray<>> {
    #[inline(always)]
    fn size() -> Option<usize> {
        Option::None
    }

    #[inline(always)]
    fn layout() -> dojo::database::introspect::Layout {
        dojo::database::introspect::Layout::Struct(
            array![
            dojo::database::introspect::FieldLayout {
            selector: 387461982739864353524563589639770327077359184971688375275386807599796929637,
            layout: dojo::database::introspect::Introspect::<u8>::layout()
        },
dojo::database::introspect::FieldLayout {
            selector: 564613130574576288414461160574656432422962213642984413874723251824844509768,
            layout: dojo::database::introspect::Introspect::<Array<Vec2>>::layout()
        }
            ].span()
        )
    }

    #[inline(always)]
    fn ty() -> dojo::database::introspect::Ty {
        // TODO: Not used anymore => to remove
        dojo::database::introspect::Ty::Primitive('u8')
    }
}
impl StructWithSimpleTupleCopy of core::traits::Copy::<StructWithSimpleTuple>;
impl StructWithSimpleTupleDrop of core::traits::Drop::<StructWithSimpleTuple>;

impl StructWithSimpleTupleIntrospect<> of dojo::database::introspect::Introspect<StructWithSimpleTuple<>> {
    #[inline(always)]
    fn size() -> Option<usize> {
        Option::None
    }

    #[inline(always)]
    fn layout() -> dojo::database::introspect::Layout {
        dojo::database::introspect::Layout::Struct(
            array![
            dojo::database::introspect::FieldLayout {
            selector: 387461982739864353524563589639770327077359184971688375275386807599796929637,
            layout: dojo::database::introspect::Introspect::<u8>::layout()
        },
dojo::database::introspect::FieldLayout {
            selector: 564613130574576288414461160574656432422962213642984413874723251824844509768,
            layout: dojo::database::introspect::Layout::Tuple(
                array![
                    dojo::database::introspect::FieldLayout {
                        selector: '',
                        layout: dojo::database::introspect::Introspect::<u8>::layout()
                    },
dojo::database::introspect::FieldLayout {
                        selector: '',
                        layout: dojo::database::introspect::Introspect::<u256>::layout()
                    }
                ].span()
            )
        }
            ].span()
        )
    }

    #[inline(always)]
    fn ty() -> dojo::database::introspect::Ty {
        // TODO: Not used anymore => to remove
        dojo::database::introspect::Ty::Primitive('u8')
    }
}
impl StructWithComplexTupleCopy of core::traits::Copy::<StructWithComplexTuple>;
impl StructWithComplexTupleDrop of core::traits::Drop::<StructWithComplexTuple>;

impl StructWithComplexTupleIntrospect<> of dojo::database::introspect::Introspect<StructWithComplexTuple<>> {
    #[inline(always)]
    fn size() -> Option<usize> {
        Option::None
    }

    #[inline(always)]
    fn layout() -> dojo::database::introspect::Layout {
        dojo::database::introspect::Layout::Struct(
            array![
            dojo::database::introspect::FieldLayout {
            selector: 387461982739864353524563589639770327077359184971688375275386807599796929637,
            layout: dojo::database::introspect::Introspect::<u8>::layout()
        },
dojo::database::introspect::FieldLayout {
            selector: 564613130574576288414461160574656432422962213642984413874723251824844509768,
            layout: dojo::database::introspect::Layout::Tuple(
                array![
                    dojo::database::introspect::FieldLayout {
                        selector: '',
                        layout: dojo::database::introspect::Introspect::<u8>::layout()
                    },
dojo::database::introspect::FieldLayout {
                        selector: '',
                        layout: dojo::database::introspect::Introspect::<Vec2>::layout()
                    },
dojo::database::introspect::FieldLayout {
                        selector: '',
                        layout: dojo::database::introspect::Introspect::<EnumCustom>::layout()
                    }
                ].span()
            )
        }
            ].span()
        )
    }

    #[inline(always)]
    fn ty() -> dojo::database::introspect::Ty {
        // TODO: Not used anymore => to remove
        dojo::database::introspect::Ty::Primitive('u8')
    }
}
impl StructWithNestedArraysCopy of core::traits::Copy::<StructWithNestedArrays>;
impl StructWithNestedArraysDrop of core::traits::Drop::<StructWithNestedArrays>;

impl StructWithNestedArraysIntrospect<> of dojo::database::introspect::Introspect<StructWithNestedArrays<>> {
    #[inline(always)]
    fn size() -> Option<usize> {
        Option::None
    }

    #[inline(always)]
    fn layout() -> dojo::database::introspect::Layout {
        dojo::database::introspect::Layout::Struct(
            array![
            dojo::database::introspect::FieldLayout {
            selector: 387461982739864353524563589639770327077359184971688375275386807599796929637,
            layout: dojo::database::introspect::Introspect::<u8>::layout()
        },
dojo::database::introspect::FieldLayout {
            selector: 564613130574576288414461160574656432422962213642984413874723251824844509768,
            layout: dojo::database::introspect::Layout::Array(
                array![
                    dojo::database::introspect::FieldLayout {
                        selector: '',
                        layout: dojo::database::introspect::Layout::Array(
                array![
                    dojo::database::introspect::FieldLayout {
                        selector: '',
                        layout: dojo::database::introspect::Introspect::<Array<Vec2>>::layout()
                    }
                ].span()
            )
                    }
                ].span()
            )
        }
            ].span()
        )
    }

    #[inline(always)]
    fn ty() -> dojo::database::introspect::Ty {
        // TODO: Not used anymore => to remove
        dojo::database::introspect::Ty::Primitive('u8')
    }
}
impl StructWithNestedTuplesCopy of core::traits::Copy::<StructWithNestedTuples>;
impl StructWithNestedTuplesDrop of core::traits::Drop::<StructWithNestedTuples>;

impl StructWithNestedTuplesIntrospect<> of dojo::database::introspect::Introspect<StructWithNestedTuples<>> {
    #[inline(always)]
    fn size() -> Option<usize> {
        Option::None
    }

    #[inline(always)]
    fn layout() -> dojo::database::introspect::Layout {
        dojo::database::introspect::Layout::Struct(
            array![
            dojo::database::introspect::FieldLayout {
            selector: 387461982739864353524563589639770327077359184971688375275386807599796929637,
            layout: dojo::database::introspect::Introspect::<u8>::layout()
        },
dojo::database::introspect::FieldLayout {
            selector: 564613130574576288414461160574656432422962213642984413874723251824844509768,
            layout: dojo::database::introspect::Layout::Tuple(
                array![
                    dojo::database::introspect::FieldLayout {
                        selector: '',
                        layout: dojo::database::introspect::Layout::Tuple(
                array![
                    dojo::database::introspect::FieldLayout {
                        selector: '',
                        layout: dojo::database::introspect::Introspect::<u8>::layout()
                    },
dojo::database::introspect::FieldLayout {
                        selector: '',
                        layout: dojo::database::introspect::Introspect::<u32>::layout()
                    }
                ].span()
            )
                    },
dojo::database::introspect::FieldLayout {
                        selector: '',
                        layout: dojo::database::introspect::Layout::Tuple(
                array![
                    dojo::database::introspect::FieldLayout {
                        selector: '',
                        layout: dojo::database::introspect::Introspect::<Vec2>::layout()
                    },
dojo::database::introspect::FieldLayout {
                        selector: '',
                        layout: dojo::database::introspect::Introspect::<EnumCustom>::layout()
                    }
                ].span()
            )
                    }
                ].span()
            )
        }
            ].span()
        )
    }

    #[inline(always)]
    fn ty() -> dojo::database::introspect::Ty {
        // TODO: Not used anymore => to remove
        dojo::database::introspect::Ty::Primitive('u8')
    }
}
impl StructWithNestedTuplesAndByteArrayCopy of core::traits::Copy::<StructWithNestedTuplesAndByteArray>;
impl StructWithNestedTuplesAndByteArrayDrop of core::traits::Drop::<StructWithNestedTuplesAndByteArray>;

impl StructWithNestedTuplesAndByteArrayIntrospect<> of dojo::database::introspect::Introspect<StructWithNestedTuplesAndByteArray<>> {
    #[inline(always)]
    fn size() -> Option<usize> {
        Option::None
    }

    #[inline(always)]
    fn layout() -> dojo::database::introspect::Layout {
        dojo::database::introspect::Layout::Struct(
            array![
            dojo::database::introspect::FieldLayout {
            selector: 387461982739864353524563589639770327077359184971688375275386807599796929637,
            layout: dojo::database::introspect::Introspect::<u8>::layout()
        },
dojo::database::introspect::FieldLayout {
            selector: 564613130574576288414461160574656432422962213642984413874723251824844509768,
            layout: dojo::database::introspect::Layout::Tuple(
                array![
                    dojo::database::introspect::FieldLayout {
                        selector: '',
                        layout: dojo::database::introspect::Layout::Tuple(
                array![
                    dojo::database::introspect::FieldLayout {
                        selector: '',
                        layout: dojo::database::introspect::Introspect::<u8>::layout()
                    },
dojo::database::introspect::FieldLayout {
                        selector: '',
                        layout: dojo::database::introspect::Introspect::<u32>::layout()
                    }
                ].span()
            )
                    },
dojo::database::introspect::FieldLayout {
                        selector: '',
                        layout: dojo::database::introspect::Layout::Tuple(
                array![
                    dojo::database::introspect::FieldLayout {
                        selector: '',
                        layout: dojo::database::introspect::Introspect::<Vec2>::layout()
                    },
dojo::database::introspect::FieldLayout {
                        selector: '',
                        layout: dojo::database::introspect::Introspect::<ByteArray>::layout()
                    }
                ].span()
            )
                    }
                ].span()
            )
        }
            ].span()
        )
    }

    #[inline(always)]
    fn ty() -> dojo::database::introspect::Ty {
        // TODO: Not used anymore => to remove
        dojo::database::introspect::Ty::Primitive('u8')
    }
}
impl StructWithNestedEverythingCopy of core::traits::Copy::<StructWithNestedEverything>;
impl StructWithNestedEverythingDrop of core::traits::Drop::<StructWithNestedEverything>;

impl StructWithNestedEverythingIntrospect<> of dojo::database::introspect::Introspect<StructWithNestedEverything<>> {
    #[inline(always)]
    fn size() -> Option<usize> {
        Option::None
    }

    #[inline(always)]
    fn layout() -> dojo::database::introspect::Layout {
        dojo::database::introspect::Layout::Struct(
            array![
            dojo::database::introspect::FieldLayout {
            selector: 387461982739864353524563589639770327077359184971688375275386807599796929637,
            layout: dojo::database::introspect::Introspect::<u8>::layout()
        },
dojo::database::introspect::FieldLayout {
            selector: 564613130574576288414461160574656432422962213642984413874723251824844509768,
            layout: dojo::database::introspect::Layout::Tuple(
                array![
                    dojo::database::introspect::FieldLayout {
                        selector: '',
                        layout: dojo::database::introspect::Layout::Tuple(
                array![
                    dojo::database::introspect::FieldLayout {
                        selector: '',
                        layout: dojo::database::introspect::Introspect::<u8>::layout()
                    },
dojo::database::introspect::FieldLayout {
                        selector: '',
                        layout: dojo::database::introspect::Introspect::<u32>::layout()
                    }
                ].span()
            )
                    },
dojo::database::introspect::FieldLayout {
                        selector: '',
                        layout: dojo::database::introspect::Layout::Tuple(
                array![
                    dojo::database::introspect::FieldLayout {
                        selector: '',
                        layout: dojo::database::introspect::Introspect::<Vec2>::layout()
                    },
dojo::database::introspect::FieldLayout {
                        selector: '',
                        layout: dojo::database::introspect::Introspect::<EnumCustom>::layout()
                    }
                ].span()
            )
                    },
dojo::database::introspect::FieldLayout {
                        selector: '',
                        layout: dojo::database::introspect::Layout::Tuple(
                array![
                    dojo::database::introspect::FieldLayout {
                        selector: '',
                        layout: dojo::database::introspect::Layout::Array(
                array![
                    dojo::database::introspect::FieldLayout {
                        selector: '',
                        layout: dojo::database::introspect::Layout::Tuple(
                array![
                    dojo::database::introspect::FieldLayout {
                        selector: '',
                        layout: dojo::database::introspect::Introspect::<u32>::layout()
                    },
dojo::database::introspect::FieldLayout {
                        selector: '',
                        layout: dojo::database::introspect::Introspect::<Vec2>::layout()
                    }
                ].span()
            )
                    }
                ].span()
            )
                    },
dojo::database::introspect::FieldLayout {
                        selector: '',
                        layout: dojo::database::introspect::Introspect::<EnumCustom>::layout()
                    }
                ].span()
            )
                    },
dojo::database::introspect::FieldLayout {
                        selector: '',
                        layout: dojo::database::introspect::Layout::Tuple(
                array![
                    dojo::database::introspect::FieldLayout {
                        selector: '',
                        layout: dojo::database::introspect::Introspect::<u16>::layout()
                    }
                ].span()
            )
                    }
                ].span()
            )
        }
            ].span()
        )
    }

    #[inline(always)]
    fn ty() -> dojo::database::introspect::Ty {
        // TODO: Not used anymore => to remove
        dojo::database::introspect::Ty::Primitive('u8')
    }
}
impl GenericStructCopy<T, +core::traits::Copy<T>> of core::traits::Copy::<GenericStruct<T>>;
impl GenericStructDrop<T, +core::traits::Drop<T>> of core::traits::Drop::<GenericStruct<T>>;
impl GenericStructSerde<T, +core::serde::Serde<T>, +core::traits::Destruct<T>> of core::serde::Serde::<GenericStruct<T>> {
    fn serialize(self: @GenericStruct<T>, ref output: core::array::Array<felt252>) {
        core::serde::Serde::serialize(self.t, ref output)
    }
    fn deserialize(ref serialized: core::array::Span<felt252>) -> core::option::Option<GenericStruct<T>> {
        core::option::Option::Some(GenericStruct {
            t: core::serde::Serde::deserialize(ref serialized)?,
        })
    }
}

impl GenericStructIntrospect<T, impl TIntrospect: dojo::database::introspect::Introspect<T>> of dojo::database::introspect::Introspect<GenericStruct<T>> {
    #[inline(always)]
    fn size() -> Option<usize> {
        Option::None
    }

    #[inline(always)]
    fn layout() -> dojo::database::introspect::Layout {
        dojo::database::introspect::Layout::Struct(
            array![
            dojo::database::introspect::FieldLayout {
            selector: 1246920879054256875300693562709339669009726288543267794550465531256469553289,
            layout: dojo::database::introspect::Introspect::<T>::layout()
        }
            ].span()
        )
    }

    #[inline(always)]
    fn ty() -> dojo::database::introspect::Ty {
        // TODO: Not used anymore => to remove
        dojo::database::introspect::Ty::Primitive('u8')
    }
}
impl StructWithBadOptionCopy of core::traits::Copy::<StructWithBadOption>;
impl StructWithBadOptionDrop of core::traits::Drop::<StructWithBadOption>;
impl StructWithBadOptionSerde of core::serde::Serde::<StructWithBadOption> {
    fn serialize(self: @StructWithBadOption, ref output: core::array::Array<felt252>) {
        core::serde::Serde::serialize(self.x, ref output)
    }
    fn deserialize(ref serialized: core::array::Span<felt252>) -> core::option::Option<StructWithBadOption> {
        core::option::Option::Some(StructWithBadOption {
            x: core::serde::Serde::deserialize(ref serialized)?,
        })
    }
}

impl StructWithBadOptionIntrospect<> of dojo::database::introspect::Introspect<StructWithBadOption<>> {
    #[inline(always)]
    fn size() -> Option<usize> {
        Option::None
    }

    #[inline(always)]
    fn layout() -> dojo::database::introspect::Layout {
        dojo::database::introspect::Layout::Struct(
            array![
            dojo::database::introspect::FieldLayout {
            selector: 512066735765477566404754172672287371265995314501343422459174036873487219331,
            layout: dojo::database::introspect::Introspect::<Option<(u8, u16)>
>::layout()
        }
            ].span()
        )
    }

    #[inline(always)]
    fn ty() -> dojo::database::introspect::Ty {
        // TODO: Not used anymore => to remove
        dojo::database::introspect::Ty::Primitive('u8')
    }
}
impl EnumWithBadOptionCopy of core::traits::Copy::<EnumWithBadOption>;
impl EnumWithBadOptionDrop of core::traits::Drop::<EnumWithBadOption>;
impl EnumWithBadOptionSerde of core::serde::Serde::<EnumWithBadOption> {
    fn serialize(self: @EnumWithBadOption, ref output: core::array::Array<felt252>) {
        match self {
            EnumWithBadOption::first(x) => { core::serde::Serde::serialize(@0, ref output); core::serde::Serde::serialize(x, ref output); },
        }
    }
    fn deserialize(ref serialized: core::array::Span<felt252>) -> core::option::Option<EnumWithBadOption> {
        let idx: felt252 = core::serde::Serde::deserialize(ref serialized)?;
        core::option::Option::Some(
            match idx {
                0 => EnumWithBadOption::first(core::serde::Serde::deserialize(ref serialized)?),
                _ => { return core::option::Option::None; }
            }
        )
    }
}

impl EnumWithBadOptionIntrospect<> of dojo::database::introspect::Introspect<EnumWithBadOption<>> {
    #[inline(always)]
    fn size() -> Option<usize> {
        Option::None
    }

    #[inline(always)]
    fn layout() -> dojo::database::introspect::Layout {
        dojo::database::introspect::Layout::Enum(
            array![
            dojo::database::introspect::FieldLayout {
                    selector: 0,
                    layout: dojo::database::introspect::Layout::Tuple(
                        array![
                            // variant value
                            dojo::database::introspect::FieldLayout {
                                selector: '',
                                layout: dojo::database::introspect::Layout::Fixed(array![8].span())
                            },
                            dojo::database::introspect::FieldLayout {
            selector: '',
            layout: dojo::database::introspect::Introspect::<Option<(u8, u16)>>::layout()
        }
                        ].span()
                    )
                }
            ].span()
        )
    }

    #[inline(always)]
    fn ty() -> dojo::database::introspect::Ty {
        // TODO: Not used anymore => to remove
        dojo::database::introspect::Ty::Primitive('u8')
    }
}

//! > expected_diagnostics
error: Option<T> cannot be used with tuples. Prefer using a struct.
 --> test_src/lib.cairo:171:6
    x: Option<(u8, u16)>
     ^*****************^

error: Option<T> cannot be used with tuples. Prefer using a struct.
 --> test_src/lib.cairo:176:10
    first: Option<(u8, u16)>,
         ^*****************^
